<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure AI Learning & Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent; /* Removes blue tap highlight on mobile */
        }
        /* Custom scrollbar for a more modern look */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b; /* slate-800 */
        }
        ::-webkit-scrollbar-thumb {
            background: #38bdf8; /* sky-500 */
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #0ea5e9; /* sky-600 */
        }
        /* Basic animation classes */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        .slide-up-fade-in {
            animation: slideUpFadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideUpFadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Styling for radio and checkboxes */
        input[type="radio"], input[type="checkbox"] {
            accent-color: #0ea5e9; /* sky-600 */
        }
        .prose-invert ul > li::before { /* Custom bullet color for dark mode prose */
            background-color: #38bdf8; /* sky-500 */
        }
    </style>
</head>
<body class="bg-slate-900 text-slate-100 min-h-screen flex flex-col items-center justify-center p-4 selection:bg-sky-500 selection:text-white">

    <div class="w-full max-w-3xl bg-slate-800 shadow-2xl rounded-xl overflow-hidden transition-all duration-500">
        <header class="bg-gradient-to-r from-sky-600 to-cyan-500 p-6 shadow-lg">
            <h1 class="text-3xl font-bold text-center text-white">Azure AI Learning & Test</h1>
        </header>

        <nav class="flex border-b border-slate-700">
            <button id="learnTab" class="flex-1 py-4 px-6 text-center font-semibold text-sky-400 border-b-2 border-sky-500 hover:bg-slate-700 transition-colors duration-300">Aprender</button>
            <button id="testTab" class="flex-1 py-4 px-6 text-center font-semibold text-slate-400 hover:bg-slate-700 transition-colors duration-300">Test</button>
        </nav>

        <main id="contentArea" class="p-6 md:p-8">
            <section id="learnContent" class="fade-in">
                <div class="prose prose-invert max-w-none">
                    <h2 class="text-2xl font-bold text-sky-400 mb-4">¡Bienvenido al Centro de Aprendizaje de Azure AI!</h2>
                    <p class="mb-3 text-slate-300">Esta sección proporciona una breve descripción de los conceptos clave en Inteligencia Artificial de Azure, basados en temas comunes. Explora estas áreas para refrescar tus conocimientos antes de realizar el cuestionario.</p>
                    
                    <h3 class="text-xl font-semibold text-sky-500 mt-6 mb-3">Áreas Clave de Azure AI:</h3>
                    <ul class="list-disc list-inside space-y-2 text-slate-300">
                        <li><strong>IA Conversacional:</strong> Potenciando chatbots y asistentes virtuales (ej., Azure Bot Service).</li>
                        <li><strong>IA Generativa:</strong> Creando contenido novedoso como texto, imágenes y código (ej., Azure OpenAI Service).</li>
                        <li><strong>Minería de Conocimiento:</strong> Extrayendo información valiosa de grandes volúmenes de datos estructurados y no estructurados.</li>
                        <li><strong>Procesamiento de Lenguaje Natural (NLP):</strong> Permitiendo a las máquinas entender y procesar el lenguaje humano (incluye análisis de sentimiento, traducción, reconocimiento de entidades).</li>
                        <li><strong>Visión por Computadora:</strong> Permitiendo a los sistemas interpretar y analizar información visual de imágenes y videos (incluye detección de objetos, OCR, clasificación de imágenes).</li>
                        <li><strong>Aprendizaje Automático:</strong> Construyendo modelos predictivos usando algoritmos y datos (tipos comunes incluyen regresión, clasificación, clustering).</li>
                        <li><strong>IA Responsable:</strong> Guiando el desarrollo de sistemas de IA para que sean justos, transparentes, confiables, seguros, privados y responsables.</li>
                    </ul>
                    <p class="mt-6 text-slate-300">Cuando estés listo, cambia a la pestaña "Test" para comprobar tu comprensión con un cuestionario de 10 preguntas.</p>
                </div>
            </section>

            <section id="testContent" class="hidden fade-in">
                <div id="quizArea">
                    <div class="mb-4">
                        <div class="flex justify-between items-center mb-2">
                            <p class="text-sm text-slate-400">Pregunta <span id="currentQuestionNumber">1</span> de <span id="totalQuestionsDisplay">10</span></p>
                            <div class="flex items-center space-x-4">
                                <p class="text-sm font-semibold text-sky-400">Puntuación: <span id="currentScore">0</span></p>
                                <p id="timerDisplay" class="text-sm font-semibold text-sky-400">Tiempo: <span id="timeValue">00:00</span></p>
                            </div>
                        </div>
                        <div class="w-full bg-slate-700 rounded-full h-2.5 shadow-inner">
                            <div id="progressBar" class="bg-sky-500 h-2.5 rounded-full transition-all duration-500 ease-out" style="width: 0%"></div>
                        </div>
                    </div>

                    <div id="questionContainer" class="bg-slate-700 p-6 rounded-lg shadow-xl mb-6 min-h-[150px] flex flex-col justify-center">
                        <h2 id="questionText" class="text-lg md:text-xl font-semibold text-slate-100 mb-4">Cargando pregunta...</h2>
                        <div id="optionsContainer" class="space-y-3">
                            </div>
                    </div>
                    
                    <div id="feedbackArea" class="mb-6 p-4 rounded-md text-sm min-h-[50px] hidden">
                        <p id="feedbackText" class="font-semibold"></p>
                        <p id="explanationText" class="mt-1 text-slate-300"></p>
                    </div>

                    <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
                        <button id="submitAnswerButton" class="w-full sm:w-auto bg-sky-600 hover:bg-sky-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-opacity-75">Enviar Respuesta</button>
                        <button id="nextQuestionButton" class="w-full sm:w-auto bg-slate-600 hover:bg-slate-500 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105 hidden focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-opacity-75">Siguiente Pregunta</button>
                    </div>
                </div>

                <div id="resultsArea" class="hidden text-center slide-up-fade-in">
                    <h2 class="text-3xl font-bold text-sky-400 mb-4">¡Cuestionario Completado!</h2>
                    <p class="text-xl text-slate-200 mb-2">Tu Puntuación Final:</p>
                    <p id="finalScoreText" class="text-5xl font-bold text-sky-500 mb-6">0 / 10</p>
                    <p id="timeTakenText" class="text-lg text-slate-300 mb-6">Tiempo empleado: <span id="finalTimeValue">00:00</span></p>
                    <p id="resultsMessage" class="text-slate-300 mb-6"></p>
                    <button id="restartQuizButton" class="bg-emerald-500 hover:bg-emerald-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-opacity-75">Reiniciar Cuestionario</button>
                </div>
            </section>
        </main>
    </div>

    <script>
        // --- Pool Completo de Preguntas ---
        const allQuestions = [
            // Preguntas Originales (50)
            {
                id: 1,
                questionText: "Which type of service provides a platform for conversational artificial intelligence (AI)?",
                options: ["Azure AI Bot Service", "Azure AI Translator", "Azure AI Vision", "Azure AI Document Intelligence"],
                correctAnswers: ["Azure AI Bot Service"],
                explanation: "Azure AI Bot Service provide a platform for conversational artificial intelligence (AI), which designates the ability of software agents to participate in a conversation.",
                type: "single"
            },
            {
                id: 2,
                questionText: "Which AI service can be integrated into chat applications and generate content in the form of text?",
                options: ["Azure OpenAI", "Azure AI Vision", "Azure AI Language", "Azure AI Speech"],
                correctAnswers: ["Azure OpenAI"],
                explanation: "Azure OpenAI is the only service capable of generating text that can be used in chat applications to create conversational experiences.",
                type: "single"
            },
            {
                id: 3,
                questionText: "Which type of artificial intelligence (AI) workload has the primary purpose of making large amounts of data searchable?",
                options: ["Knowledge mining", "Computer vision", "Natural language processing", "Anomaly detection"],
                correctAnswers: ["Knowledge mining"],
                explanation: "Knowledge mining is an artificial intelligence (AI) workload that has the purpose of making large amounts of data searchable.",
                type: "single"
            },
            {
                id: 4,
                questionText: "Which two artificial intelligence (AI) workload scenarios are examples of natural language processing (NLP)? Each correct answer presents a complete solution.",
                options: ["Performing sentiment analysis on social media data", "Translating text between different languages from product reviews", "Detecting faces in an image", "Predicting equipment failure"],
                correctAnswers: ["Performing sentiment analysis on social media data", "Translating text between different languages from product reviews"],
                explanation: "Translating text between different languages from product reviews is an NLP workload that uses the Azure AI Translator service. Performing sentiment analysis on social media data is an NLP that uses the sentiment analysis feature of the Azure AI Service for Language.",
                type: "multiple"
            },
            {
                id: 5,
                questionText: "You are exploring solutions to improve the document search and indexing service for employees. You need an artificial intelligence (AI) search solution that will include searching text in various types of documents, such as images. Which type of AI workload is this?",
                options: ["Data mining", "Computer vision", "Conversational AI", "Semantic segmentation"],
                correctAnswers: ["Data mining"],
                explanation: "Data mining workloads primarily focus on the searching and indexing of data. Computer vision can be used to extract information from images, but it is not a search and indexing solution on its own for this broad purpose.",
                type: "single"
            },
            {
                id: 6,
                questionText: "Which two artificial intelligence (AI) workload features are part of the Azure AI Vision service? Each correct answer presents a complete solution.",
                options: ["Optical character recognition (OCR)", "Spatial analysis", "Sentiment analysis", "Entity recognition", "Key phrase extraction"],
                correctAnswers: ["Optical character recognition (OCR)", "Spatial analysis"],
                explanation: "OCR and Spatial Analysis are part of the Azure AI Vision service. Sentiment analysis, entity recognition, and key phrase extraction are not part of the computer vision service.",
                type: "multiple"
            },
            {
                id: 7,
                questionText: "Which principle of responsible artificial intelligence (AI) raises awareness about the limitations of AI-based solutions?",
                options: ["Transparency", "Accountability", "Privacy and security", "Reliability and safety"],
                correctAnswers: ["Transparency"],
                explanation: "Transparency provides clarity regarding the purpose of AI solutions, the way they work, as well as their limitations.",
                type: "single"
            },
            {
                id: 8,
                questionText: "Which principle of responsible artificial intelligence (AI) has the objective of ensuring that AI solutions benefit all parts of society regardless of gender or ethnicity?",
                options: ["Inclusiveness", "Privacy and security", "Reliability and safety", "Accountability"],
                correctAnswers: ["Inclusiveness"],
                explanation: "The inclusiveness principle is meant to ensure that AI solutions empower and engage everyone, regardless of criteria such as physical ability, gender, sexual orientation, or ethnicity.",
                type: "single"
            },
            {
                id: 9,
                questionText: "Which principle of responsible artificial intelligence (AI) defines the framework of governance and organization principles that meet ethical and legal standards of AI solutions?",
                options: ["Accountability", "Fairness", "Transparency", "Inclusiveness"],
                correctAnswers: ["Accountability"],
                explanation: "Accountability defines the framework of governance and organizational principles, which are meant to ensure that AI solutions meet ethical and legal standards that are clearly defined.",
                type: "single"
            },
            {
                id: 10,
                questionText: "Which two principles of responsible artificial intelligence (AI) are most important when designing an AI system to manage healthcare data? Each correct answer presents part of the solution.",
                options: ["Accountability", "Privacy and security", "Fairness", "Inclusiveness"],
                correctAnswers: ["Accountability", "Privacy and security"],
                explanation: "The accountability principle states that AI systems are designed to meet any ethical and legal standards that are applicable. The system must be designed to ensure that privacy of the healthcare data is of the highest importance.",
                type: "multiple"
            },
            {
                id: 11,
                questionText: "Which type machine learning algorithm predicts a numeric label associated with an item based on that item's features?",
                options: ["Regression", "Clustering", "Classification", "Unsupervised learning"],
                correctAnswers: ["Regression"],
                explanation: "The regression algorithms are used to predict numeric values. Clustering algorithms groups data points. Classification algorithms predict categories. Unsupervised learning is a category of algorithms.",
                type: "single"
            },
            {
                id: 12,
                questionText: "Predicting rainfall for a specific geographical location is an example of which type of machine learning?",
                options: ["Regression", "Clustering", "Featurization", "Classification"],
                correctAnswers: ["Regression"],
                explanation: "Predicting rainfall is an example of regression machine learning, as it will predict a numeric value for future rainfall.",
                type: "single"
            },
            {
                id: 13,
                questionText: "A healthcare organization has a dataset consisting of bone fracture scans that are categorized by using predefined fracture types. The organization wants to use machine learning to detect the different types of bone fractures for new scans. Which type of machine learning is this?",
                options: ["Classification", "Featurization", "Regression", "Clustering"],
                correctAnswers: ["Classification"],
                explanation: "Classification is used to predict categories of data. It can predict which category or class an item of data belongs to, such as the type of bone fracture.",
                type: "single"
            },
            {
                id: 14,
                questionText: "You plan to use machine learning to predict the probability of humans developing diabetes based on their age and body fat percentage. What should the model include?",
                options: ["Two features and one label", "Two labels and one feature", "One feature and two labels", "Multiple labels and multiple features"],
                correctAnswers: ["Two features and one label"],
                explanation: "The scenario represents a model that is meant to establish a relationship between two features (age and body fat percentage) and one label (the likelihood of developing diabetes).",
                type: "single"
            },
            {
                id: 15,
                questionText: "In a regression machine learning algorithm, how are features and labels handled in a validation dataset?",
                options: ["Features are used to generate predictions for the label, which is compared to the actual label values.", "Labels are used to generate predictions for the features.", "Features from validation are compared to features from training.", "Labels from validation are compared to labels from training."],
                correctAnswers: ["Features are used to generate predictions for the label, which is compared to the actual label values."],
                explanation: "In a regression machine learning algorithm, features from the validation set are used to generate predictions for the label, which is then compared to the actual label values in the validation set to evaluate model performance.",
                type: "single"
            },
            {
                id: 16,
                questionText: "Which assumption of the multiple linear regression model should be satisfied to avoid misleading predictions?",
                options: ["Features are independent of each other", "Labels are independent of each other", "Features are dependent on labels", "Labels are dependent on features"],
                correctAnswers: ["Features are independent of each other"],
                explanation: "Multiple linear regression models the relationship between several features and a single label. The features must be independent of each other (low multicollinearity) for the model's predictions to be reliable.",
                type: "single"
            },
            {
                id: 17,
                questionText: "In a regression machine learning algorithm, what are the characteristics of features and labels in a validation dataset?",
                options: ["Known feature and label values", "Known feature values and unknown label values", "Unknown feature values and known label values", "Unknown feature and label values"],
                correctAnswers: ["Known feature and label values"],
                explanation: "In a regression machine learning algorithm, a validation set contains known feature and label values. The known labels are used to evaluate the model's predictions made using the known features.",
                type: "single"
            },
            {
                id: 18,
                questionText: "What is the purpose of a validation dataset used for as part of the development of a machine learning model?",
                options: ["Evaluating the trained model", "Cleaning missing data", "Feature engineering", "Summarizing the data"],
                correctAnswers: ["Evaluating the trained model"],
                explanation: "The validation dataset is a sample of data held back from a training dataset. It is then used to evaluate the performance of the trained model on unseen data.",
                type: "single"
            },
            {
                id: 19,
                questionText: "What should you do after preparing a dataset and before training the machine learning model?",
                options: ["Split data into training and validation datasets", "Normalize the data", "Clean missing data", "Summarize the data"],
                correctAnswers: ["Split data into training and validation datasets"],
                explanation: "Splitting data into training and validation datasets is a crucial step after data preparation and before model training to allow for unbiased evaluation.",
                type: "single"
            },
            {
                id: 20,
                questionText: "You need to create an automated machine learning (automated ML) model. Which resource should you create first in Azure Machine Learning studio?",
                options: ["A dataset", "An Azure container instance", "A workspace", "An AKS cluster"],
                correctAnswers: ["A dataset"],
                explanation: "A dataset is required to create an automated machine learning (automated ML) run. While a workspace is needed to access the studio, the dataset is the first specific resource for the automated ML process itself.",
                type: "single"
            },
            {
                id: 21,
                questionText: "You need to use the Azure Machine Learning designer to train a machine learning model. What should you do first in the Machine Learning designer?",
                options: ["Create a pipeline", "Add a dataset", "Add training modules", "Deploy a service"],
                correctAnswers: ["Create a pipeline"],
                explanation: "Before you can start training a machine learning model, you must first create a pipeline in the Machine Learning designer. This pipeline will then host your dataset and training modules.",
                type: "single"
            },
            {
                id: 22,
                questionText: "Which three supervised machine learning models can you train by using automated machine learning (automated ML) in the Azure Machine Learning studio? Each correct answer presents a complete solution.",
                options: ["Classification", "Regression", "Time-series forecasting", "Clustering", "Inference pipeline"],
                correctAnswers: ["Classification", "Regression", "Time-series forecasting"],
                explanation: "Time-series forecasting, regression, and classification are supervised machine learning models that can be trained using automated ML in Azure Machine Learning studio. Clustering is unsupervised.",
                type: "multiple"
            },
            {
                id: 23,
                questionText: "Which artificial intelligence (AI) technique serves as the foundation for modern image classification solutions?",
                options: ["Deep learning", "Semantic segmentation", "Linear regression", "Multiple linear regression"],
                correctAnswers: ["Deep learning"],
                explanation: "Modern image classification solutions are based on deep learning techniques, typically involving convolutional neural networks (CNNs).",
                type: "single"
            },
            {
                id: 24,
                questionText: "Which two specialized domain models are supported by Azure AI Vision when categorizing an image? Each correct answer presents a complete solution.",
                options: ["Celebrities", "Landmarks", "Image types", "People_"],
                correctAnswers: ["Celebrities", "Landmarks"],
                explanation: "When categorizing an image, the Azure AI Vision service supports two specialized domain models: celebrities and landmarks.",
                type: "multiple"
            },
            {
                id: 25,
                questionText: "You have a set of images. Each image shows one type of bone fracture. What allows you to identify bone fractures in different X-ray images?",
                options: ["Image classification", "Object detection", "Conversational AI", "Facial detection"],
                correctAnswers: ["Image classification"],
                explanation: "Image classification is part of computer vision and can be used to evaluate images from an X-ray machine to quickly classify specific bone fracture types.",
                type: "single"
            },
            {
                id: 26,
                questionText: "Which feature of computer vision involves associating an image with metadata that summarizes the attributes of the image?",
                options: ["Tagging", "Detecting image types", "Content organization", "Categorizing"],
                correctAnswers: ["Tagging"],
                explanation: "Tagging involves associating an image with metadata (tags) that summarize the attributes or content of the image.",
                type: "single"
            },
            {
                id: 27,
                questionText: "Which three parts of the machine learning process does the Azure AI Vision service eliminate the need for? Each correct answer presents part of the solution.",
                options: ["Choosing a model", "Evaluating a model", "Training a model", "Azure resource provisioning", "Inferencing"],
                correctAnswers: ["Choosing a model", "Evaluating a model", "Training a model"],
                explanation: "The Azure AI Vision service provides pre-trained models, thus eliminating the need for choosing, training, and evaluating a model for common vision tasks.",
                type: "multiple"
            },
            {
                id: 28,
                questionText: "Which analytical task of the Azure AI Vision service returns bounding box coordinates?",
                options: ["Object detection", "Image categorization", "Tagging", "OCR"],
                correctAnswers: ["Object detection"],
                explanation: "Detecting objects identifies common objects and, for each, returns bounding box coordinates indicating their location in the image.",
                type: "single"
            },
            {
                id: 29,
                questionText: "Which two specialized domain models are supported by using the Azure AI Vision service? Each correct answer presents a complete solution.",
                options: ["Celebrities", "Landmarks", "Animals", "Cars", "Plants"],
                correctAnswers: ["Celebrities", "Landmarks"],
                explanation: "The Azure AI Vision service supports the celebrities and landmarks specialized domain models for image analysis.",
                type: "multiple"
            },
            {
                id: 30,
                questionText: "Which two Azure AI Document Intelligence models include identifying common data fields as part of its data extraction capabilities? Each correct answer presents a complete solution.",
                options: ["Business card model", "Invoice model", "General document model", "Read model", "Layout model"],
                correctAnswers: ["Business card model", "Invoice model"],
                explanation: "The business card model and the invoice model in Azure AI Document Intelligence are pre-trained to extract common data fields specific to those document types.",
                type: "multiple"
            },
            {
                id: 31,
                questionText: "When using the Face Detect API of the Azure AI Face service, which feature helps identify whether a human face has glasses or headwear?",
                options: ["Face attributes", "Face rectangle", "Face ID", "Face landmarks"],
                correctAnswers: ["Face attributes"],
                explanation: "Face attributes are a set of features that can be detected by the Face Detect API, including accessories like glasses or headwear.",
                type: "single"
            },
            {
                id: 32,
                questionText: "When using the Azure AI Face service, what should you use to perform one-to-many or one-to-one face matching? Each correct answer presents a complete solution.",
                options: ["Face identification", "Face verification", "Face attributes", "Find similar faces operation"],
                correctAnswers: ["Face identification", "Face verification"],
                explanation: "Face identification performs one-to-many matching. Face verification performs one-to-one matching to confirm if two faces belong to the same person.",
                type: "multiple"
            },
            {
                id: 33,
                questionText: "Which natural language processing (NLP) technique normalizes words before counting them?",
                options: ["Stemming", "Frequency analysis", "N-grams", "Vectorization"],
                correctAnswers: ["Stemming"],
                explanation: "Stemming is a process of reducing inflected (or sometimes derived) words to their word stem, base or root form, which helps in normalizing words before analysis like frequency counting.",
                type: "single"
            },
            {
                id: 34,
                questionText: "What is the confidence score returned by the Azure AI Language detection service of natural language processing (NLP) for an unknown language name?",
                options: ["NaN", "Unknown", "0", "1"],
                correctAnswers: ["NaN"],
                explanation: "NaN (Not a Number) designates an unknown confidence score when the language cannot be determined or is not supported with confidence.",
                type: "single"
            },
            {
                id: 35,
                questionText: "Which Azure AI Service for Language feature can be used to analyze online user reviews to identify whether users view a product positively or negatively?",
                options: ["Sentiment analysis", "Named entity recognition", "Key phrase extraction", "Language detection"],
                correctAnswers: ["Sentiment analysis"],
                explanation: "Sentiment analysis provides sentiment labels (such as negative, neutral, and positive) based on a confidence score from text analysis, suitable for product reviews.",
                type: "single"
            },
            {
                id: 36,
                questionText: "Which two Azure AI Services features can be used to enable both text-to-text and speech-to-text between multiple languages? Each correct answer presents part of the solution.",
                options: ["The Speech service", "The Translator service", "Conversational Language Understanding", "Key phrase extraction", "Language detection"],
                correctAnswers: ["The Speech service", "The Translator service"],
                explanation: "The Azure AI Speech service can handle speech-to-text (and text-to-speech, including translation). The Azure AI Translator service directly supports text-to-text translation.",
                type: "multiple"
            },
            {
                id: 37,
                questionText: "Which feature of the Azure AI Language service includes functionality that returns links to external websites to disambiguate terms identified in a text?",
                options: ["Entity recognition", "Key phrase extraction", "Language detection", "Sentiment analysis"],
                correctAnswers: ["Entity recognition"],
                explanation: "Entity recognition includes entity linking, which can return links to external data sources (like Wikipedia) to disambiguate identified entities.",
                type: "single"
            },
            {
                id: 38,
                questionText: "Which Azure resource provides direct access to both Azure AI Translator and Azure AI Speech services through a single endpoint and authentication key?",
                options: ["Azure AI Services", "Azure AI Language service", "Machine Learning service", "Azure AI Bot Service"],
                correctAnswers: ["Azure AI Services"],
                explanation: "An Azure AI Services multi-service resource provides access to multiple AI services (including Translator and Speech) through a single key and endpoint.",
                type: "single"
            },
            {
                id: 39,
                questionText: "Which three features are elements of the Azure AI Speech service? Each correct answer presents a complete solution.",
                options: ["Speaker recognition", "Voice assistants", "Language identification", "Text translation", "Document translation"],
                correctAnswers: ["Speaker recognition", "Voice assistants", "Language identification"],
                explanation: "Language identification, speaker recognition, and voice assistants are all elements of the Azure AI Speech service. Text and document translation are part of the Translator service.",
                type: "multiple"
            },
            {
                id: 40,
                questionText: "Which feature of the Azure AI Translator service is available only to Custom Translator?",
                options: ["Model training with a dictionary", "Real-time text translation", "Document translation", "Language detection"],
                correctAnswers: ["Model training with a dictionary"],
                explanation: "Model training with a dictionary (phrase or sentence) is a feature specific to Custom Translator, allowing customization with smaller datasets when parallel sentences are insufficient.",
                type: "single"
            },
            {
                id: 41,
                questionText: "Which feature of the Azure AI Speech service can identify distinct user voices?",
                options: ["Speaker recognition", "Speech synthesis", "Speech translation", "Language identification"],
                correctAnswers: ["Speaker recognition"],
                explanation: "Speaker recognition (which includes speaker verification and speaker identification) uses audio data to analyze speech and determine or verify the identity of distinct user voices.",
                type: "single"
            },
            {
                id: 42,
                questionText: "Which three sources can be used to generate questions and answers for a knowledge base? Each correct answer presents a complete solution.",
                options: ["A webpage", "An existing FAQ document", "Manually entered data", "An image file", "An audio file"],
                correctAnswers: ["A webpage", "An existing FAQ document", "Manually entered data"],
                explanation: "A knowledge base (e.g., for QnA Maker or Custom question answering) can be populated from webpages, existing documents (like FAQs), and manually entered question-answer pairs.",
                type: "multiple"
            },
            {
                id: 43,
                questionText: "Select the answer that correctly completes the sentence. [Answer choice] use plugins to provide end users with the ability to get help with common tasks from a generative AI model.",
                options: ["Copilots", "Chatbots", "Virtual assistants", "AI agents"],
                correctAnswers: ["Copilots"],
                explanation: "Copilots are often integrated into applications and use plugins to provide end users with the ability to get help with common tasks from a generative AI model.",
                type: "single"
            },
            {
                id: 44,
                questionText: "At which layer can you apply content filters to suppress prompts and responses for a responsible generative AI solution?",
                options: ["Safety system", "Application layer", "Model layer", "User interface layer"],
                correctAnswers: ["Safety system"],
                explanation: "The safety system layer includes platform-level configurations and capabilities, such as content filters in Azure OpenAI service, to mitigate harm by suppressing inappropriate prompts and responses.",
                type: "single"
            },
            {
                id: 45,
                questionText: "Select the answer that correctly completes the sentence. [Answer choice] can return responses, such as natural language, images, or code, based on natural language input.",
                options: ["Generative AI", "Predictive AI", "Analytical AI", "Cognitive AI"],
                correctAnswers: ["Generative AI"],
                explanation: "Generative AI models offer the capability of generating new content like natural language, images, or code based on natural language input.",
                type: "single"
            },
            {
                id: 46,
                questionText: "Select the answer that correctly completes the sentence. [Answer choice] can used to identify constraints and styles for the responses of a generative AI model.",
                options: ["System messages", "User prompts", "Temperature settings", "Fine-tuning data"],
                correctAnswers: ["System messages"],
                explanation: "System messages (or system prompts) are used to set the context, define the persona, and identify constraints and styles for the responses of a generative AI model.",
                type: "single"
            },
            {
                id: 47,
                questionText: "Which two capabilities are examples of a GPT model? Each correct answer presents a complete solution.",
                options: ["Create natural language", "Understand natural language", "Classify images", "Detect objects in video"],
                correctAnswers: ["Create natural language", "Understand natural language"],
                explanation: "GPT (Generative Pre-trained Transformer) models are excellent at both understanding natural language inputs and creating (generating) natural language responses.",
                type: "multiple"
            },
            {
                id: 48,
                questionText: "Which three capabilities are examples of image generation features for a generative AI model? Each correct answer presents a complete solution.",
                options: ["Creating variations of an image", "Editing an image", "New image creation", "Animation of static images", "Image classification"],
                correctAnswers: ["Creating variations of an image", "Editing an image", "New image creation"],
                explanation: "Image generation models can create new images from prompts, edit existing images (e.g., inpainting/outpainting), and create variations of a provided image.",
                type: "multiple"
            },
            {
                id: 49,
                questionText: "You plan to develop an image processing solution that will use DALL-E as a generative AI model. Which capability is NOT supported by the DALL-E model?",
                options: ["Image description", "Creating variations of an image", "Editing an image", "New image creation from text"],
                correctAnswers: ["Image description"],
                explanation: "DALL-E is primarily for generating and editing images. While some multimodal models can describe images, DALL-E's core strength is not image description (generating text from an image).",
                type: "single"
            },
            {
                id: 50,
                questionText: "Select the answer that correctly completes the sentence. [Answer choice] can search, classify, and compare sources of text for similarity.",
                options: ["Embeddings", "Data grounding", "Prompt engineering", "Tokenization"],
                correctAnswers: ["Embeddings"],
                explanation: "Embeddings convert text into numerical vectors that capture semantic meaning. These vectors can then be used to search, classify, and compare sources of text for similarity.",
                type: "single"
            },
            // Nuevas Preguntas del segundo PDF (IDs 51-74)
            {
                id: 51,
                questionText: "Which natural language processing (NLP) workload is used to generate closed caption text for live presentations?",
                options: ["Azure AI Speech", "Azure AI Translator", "Azure AI Language", "Azure AI Vision"],
                correctAnswers: ["Azure AI Speech"],
                explanation: "Azure AI Speech provides speech-to-text and text-to-speech capabilities through speech recognition and synthesis, suitable for generating closed captions.",
                type: "single"
            },
            {
                id: 52,
                questionText: "Which type of artificial intelligence (AI) workload provides the ability to generate bounding boxes that identify the locations of different types of vehicles in an image?",
                options: ["Object detection", "Image classification", "Semantic segmentation", "Facial detection"],
                correctAnswers: ["Object detection"],
                explanation: "Object detection provides the ability to generate bounding boxes identifying the locations of different types of vehicles in an image.",
                type: "single"
            },
            {
                id: 53,
                questionText: "Which type of artificial intelligence (AI) workload provides the ability to classify individual pixels in an image depending on the object that they represent?",
                options: ["Semantic segmentation", "Object detection", "Image classification", "Instance segmentation"],
                correctAnswers: ["Semantic segmentation"],
                explanation: "Semantic segmentation provides the ability to classify individual pixels in an image depending on the object that they represent.",
                type: "single"
            },
            {
                id: 54,
                questionText: "Which principle of responsible artificial intelligence (AI) is applied in the design of an AI system to ensure that users understand constraints and limitations of AI?",
                options: ["Transparency", "Inclusiveness", "Fairness", "Privacy and security"],
                correctAnswers: ["Transparency"],
                explanation: "The transparency principle states that AI systems must be designed in such a way that users are made fully aware of the purpose of the systems, how they work, and which limitations can be expected during use.",
                type: "single"
            },
            {
                id: 55,
                questionText: "A bank is developing a new artificial intelligence (AI) system to support the process of accepting or rejecting mortgage applications. Which two issues should be considered as part of the responsible AI principle of fairness to avoid biased decision making? Each correct answer presents part of the solution.",
                options: ["Ethnicity", "Gender", "Salary", "Payment history", "Credit utilization"],
                correctAnswers: ["Ethnicity", "Gender"],
                explanation: "The AI system must be designed to ensure that biased decision making is avoided and not based on factors such as ethnicity and gender. Salary, payment history, and credit utilization are standard metrics.",
                type: "multiple"
            },
            {
                id: 56,
                questionText: "Which principle of responsible artificial intelligence (AI) ensures that an AI system meets any legal and ethical standards it must abide by?",
                options: ["Accountability", "Privacy and security", "Inclusiveness", "Fairness"],
                correctAnswers: ["Accountability"],
                explanation: "The accountability principle ensures that AI systems are designed to meet any ethical and legal standards that are applicable.",
                type: "single"
            },
            {
                id: 57,
                questionText: "A company is currently developing driverless agriculture vehicles to help harvest crops. The vehicles will be deployed alongside people working in the crop fields, and as such, the company will need to carry out robust testing. Which principle of responsible artificial intelligence (AI) is most important in this case?",
                options: ["Reliability and safety", "Transparency", "Accountability", "Fairness"],
                correctAnswers: ["Reliability and safety"],
                explanation: "The reliability and safety principles are of paramount importance here as it requires an AI system to work alongside people in a physical environment by using AI-controlled machinery.",
                type: "single"
            },
            {
                id: 58,
                questionText: "You need to identify numerical values that represent the probability of humans developing diabetes based on age and body fat percentage. Which type of machine learning model should you use?",
                options: ["Logistic regression", "Linear regression", "Hierarchical clustering", "K-Means clustering"],
                correctAnswers: ["Logistic regression"],
                explanation: "Logistic regression is a type of classification model, which returns either a Boolean value or a categorical decision, often interpreted as a probability.",
                type: "single"
            },
            {
                id: 59,
                questionText: "Which type of machine learning algorithm assigns items to a set of predefined categories?",
                options: ["Classification", "Regression", "Clustering", "Unsupervised learning"],
                correctAnswers: ["Classification"],
                explanation: "Classification algorithms are used to predict a predefined category to which an input value belongs.",
                type: "single"
            },
            {
                id: 60,
                questionText: "A company deploys an online marketing campaign to social media platforms for a new product launch. The company wants to use machine learning to measure the sentiment of users on the Twitter platform who made posts in response to the campaign. Which type of machine learning is this?",
                options: ["Classification", "Clustering", "Regression", "Data transformation"],
                correctAnswers: ["Classification"],
                explanation: "Classification is used to predict categories of data. In this example, sentiment analysis can be carried out on the Twitter posts with a numeric value applied to the posts to identify and classify positive or negative sentiment.",
                type: "single"
            },
            {
                id: 61,
                questionText: "An electricity utility company wants to develop a mobile app for its customers to monitor their energy use and to display their predicted energy use for the next 12 months. The company wants to use machine learning to provide a reasonably accurate prediction of future energy use by using the customers' previous energy-use data. Which type of machine learning is this?",
                options: ["Regression", "Multiclass classification", "Clustering", "Classification"],
                correctAnswers: ["Regression"],
                explanation: "Regression is a machine learning scenario that is used to predict numeric values, such as future energy consumption.",
                type: "single"
            },
            {
                id: 62,
                questionText: "Which feature makes regression an example of supervised machine learning?",
                options: ["Use of historical data with known label values to train a model", "Use of randomly generated data for training", "Use of unlabeled data", "It groups data points with similar characteristics"],
                correctAnswers: ["Use of historical data with known label values to train a model"],
                explanation: "Regression is an example of supervised machine learning due to the use of historical data with known label values to train a model.",
                type: "single"
            },
            {
                id: 63,
                questionText: "You need to use Azure Machine Learning to train a regression model. What should you create in Machine Learning studio?",
                options: ["A job", "A workspace", "An Azure container instance", "An AKS cluster"],
                correctAnswers: ["A job"],
                explanation: "A job must be created in Machine Learning studio to use Machine Learning to train a regression model.",
                type: "single"
            },
            {
                id: 64,
                questionText: "Which machine learning algorithm module in the Azure Machine Learning designer is used to train a model for predicting a continuous numerical value?",
                options: ["Linear Regression", "Clean Missing Data", "Select Columns in Dataset", "Evaluate Model"],
                correctAnswers: ["Linear Regression"],
                explanation: "Linear regression is a machine learning algorithm module used for training regression models, which predict continuous numerical values.",
                type: "single"
            },
            {
                id: 65,
                questionText: "What is an unsupervised machine learning algorithm module for training models in the Azure Machine Learning designer?",
                options: ["K-Means Clustering", "Linear Regression", "Two-Class Logistic Regression", "Normalize Data"],
                correctAnswers: ["K-Means Clustering"],
                explanation: "K-means clustering is an unsupervised machine learning algorithm component used for training clustering models. You can use unlabeled data with this algorithm.",
                type: "single"
            },
            {
                id: 66,
                questionText: "Which computer vision solution provides the ability to identify a person's age based on a photograph?",
                options: ["Facial detection", "Image classification", "Object detection", "Semantic segmentation"],
                correctAnswers: ["Facial detection"],
                explanation: "Facial detection provides the ability to detect and analyze human faces in an image, including identifying a person's age based on a photograph.",
                type: "single"
            },
            {
                id: 67,
                questionText: "Which process allows you to use optical character recognition (OCR)?",
                options: ["Digitizing medical records", "Identifying wildlife in an image", "Identifying a user requesting access to a laptop", "Translating speech to text"],
                correctAnswers: ["Digitizing medical records"],
                explanation: "OCR can extract printed or handwritten text from images. In this case, it can be used to extract text from scanned medical records to produce a digital archive from paper-based documents.",
                type: "single"
            },
            {
                id: 68,
                questionText: "You have a set of images. Each image shows multiple vehicles. What allows you to identify different vehicle types in the same traffic monitoring image?",
                options: ["Object detection", "Linear regression", "Image classification", "OCR"],
                correctAnswers: ["Object detection"],
                explanation: "Object detection can be used to evaluate traffic monitoring images to quickly classify specific vehicle types, such as car, bus, or cyclist.",
                type: "single"
            },
            {
                id: 69,
                questionText: "What can be used for an attendance system that can scan handwritten signatures?",
                options: ["Optical character recognition (OCR)", "Face detection", "Object detection", "Image classification"],
                correctAnswers: ["Optical character recognition (OCR)"],
                explanation: "OCR is used to extract text and handwriting from images. In this case, it can be used to extract signatures for attendance purposes.",
                type: "single"
            },
            {
                id: 70,
                questionText: "Which two prebuilt models allow you to use the Azure AI Document Intelligence service to scan information from international passports and sales accounts? Each correct answer presents part of the solution.",
                options: ["ID document model", "Invoice model", "Business card model", "Receipt model", "Language model"],
                correctAnswers: ["ID document model", "Invoice model"],
                explanation: "The invoice model extracts key information from sales invoices and is suitable for extracting information from sales account documents. The ID document model is optimized to analyze and extract key information from US driver’s licenses and international passport biographical pages.",
                type: "multiple"
            },
            {
                id: 71,
                questionText: "Which natural language processing (NLP) technique assigns values to words such as plant and flower, so that they are considered closer to each other than a word such as airplane?",
                options: ["Vectorization", "Lemmatization", "Frequency analysis", "N-grams"],
                correctAnswers: ["Vectorization"],
                explanation: "Vectorization captures semantic relationships between words by assigning them to locations in n-dimensional space, making similar words closer.",
                type: "single"
            },
            {
                id: 72,
                questionText: "What is the first step in the statistical analysis of terms in a text in the context of natural language processing (NLP)?",
                options: ["Removing stop words", "Counting occurrences of each word", "Creating a vectorized model", "Encoding words as numeric features"],
                correctAnswers: ["Removing stop words"],
                explanation: "Removing stop words (common words like 'the', 'is', 'in') is typically the first step in statistical text analysis to focus on meaningful terms.",
                type: "single"
            },
            {
                id: 73,
                questionText: "For which two scenarios is the Universal Language Model used by the speech-to-text API optimized? Each correct answer presents a complete solution.",
                options: ["Conversational", "Dictation", "Acoustic modeling", "Pronunciation assessment", "Language identification"],
                correctAnswers: ["Conversational", "Dictation"],
                explanation: "The Universal Language Model used by the speech-to-text API is optimized for conversational and dictation scenarios.",
                type: "multiple"
            },
            {
                id: 74,
                questionText: "Which generative AI model is used to generate images based on natural language prompts?",
                options: ["DALL-E", "GPT-4", "Embeddings", "Whisper"],
                correctAnswers: ["DALL-E"],
                explanation: "DALL-E is a model that can generate images from natural language. GPT-4 and GPT-3.5 can understand and generate natural language and code but not images. Embeddings convert text into numerical vector form. Whisper can transcribe and translate speech to text.",
                type: "single"
            }
        ];

        let currentQuizQuestions = []; 
        let timerInterval;
        let startTime;
        let elapsedTime = 0; // To store elapsed time if quiz is paused/resumed (not implemented yet but good for future)


        // Elementos del DOM
        const learnTab = document.getElementById('learnTab');
        const testTab = document.getElementById('testTab');
        const learnContent = document.getElementById('learnContent');
        const testContent = document.getElementById('testContent');
        
        const quizArea = document.getElementById('quizArea');
        const resultsArea = document.getElementById('resultsArea');
        
        const currentQuestionNumberEl = document.getElementById('currentQuestionNumber');
        const totalQuestionsDisplayEl = document.getElementById('totalQuestionsDisplay');
        const currentScoreEl = document.getElementById('currentScore');
        const progressBar = document.getElementById('progressBar');
        
        const questionTextEl = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        
        const feedbackArea = document.getElementById('feedbackArea');
        const feedbackTextEl = document.getElementById('feedbackText');
        const explanationTextEl = document.getElementById('explanationText');
        
        const submitAnswerButton = document.getElementById('submitAnswerButton');
        const nextQuestionButton = document.getElementById('nextQuestionButton');
        const restartQuizButton = document.getElementById('restartQuizButton');

        const timerDisplayEl = document.getElementById('timerDisplay');
        const timeValueEl = document.getElementById('timeValue');
        const timeTakenTextEl = document.getElementById('timeTakenText');
        const finalTimeValueEl = document.getElementById('finalTimeValue');
        const finalScoreTextEl = document.getElementById('finalScoreText');
        
            

        // Estado del Cuestionario
        let currentQuestionIndex = 0;
        let score = 0;
        let selectedAnswers = []; 

        // --- Función auxiliar para barajar un array (Algoritmo Fisher-Yates) ---
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]]; 
            }
        }

        // --- Función para seleccionar 10 preguntas aleatorias ---
        function selectRandomQuestions() {
            const shuffled = [...allQuestions]; 
            shuffleArray(shuffled);
            currentQuizQuestions = shuffled.slice(0, 10);
        }

        // --- Funciones del Temporizador ---
        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const seconds = totalSeconds % 60;
            return `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        function startTimer() {
            startTime = Date.now();
            elapsedTime = 0; // Reset elapsed time
            if (timerInterval) clearInterval(timerInterval); // Clear any existing interval

            timerInterval = setInterval(() => {
                elapsedTime = Math.floor((Date.now() - startTime) / 1000);
                timeValueEl.textContent = formatTime(elapsedTime);
            }, 1000);
            timerDisplayEl.classList.remove('hidden'); // Make sure timer is visible
        }

        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            // elapsedTime will hold the final duration
        }


        // Event Listeners
        learnTab.addEventListener('click', () => switchTab('learn'));
        testTab.addEventListener('click', () => {
            switchTab('test');
            if (currentQuizQuestions.length === 0 || currentQuestionIndex >= currentQuizQuestions.length) { 
                startNewQuiz();
            }
        });
        submitAnswerButton.addEventListener('click', handleSubmitAnswer);
        nextQuestionButton.addEventListener('click', handleNextQuestion);
        restartQuizButton.addEventListener('click', startNewQuiz); 

        // Funciones
        function switchTab(tabName) {
            if (tabName === 'learn') {
                learnContent.classList.remove('hidden');
                testContent.classList.add('hidden');
                learnTab.classList.add('text-sky-400', 'border-sky-500');
                learnTab.classList.remove('text-slate-400');
                testTab.classList.remove('text-sky-400', 'border-sky-500');
                testTab.classList.add('text-slate-400');
                stopTimer(); // Stop timer if user switches away from test
                timerDisplayEl.classList.add('hidden');
            } else { 
                learnContent.classList.add('hidden');
                testContent.classList.remove('hidden');
                testTab.classList.add('text-sky-400', 'border-sky-500');
                testTab.classList.remove('text-slate-400');
                learnTab.classList.remove('text-sky-400', 'border-sky-500');
                learnTab.classList.add('text-slate-400');
                // Timer is started in startNewQuiz if needed
            }
        }

        function startNewQuiz() {
            selectRandomQuestions(); 
            currentQuestionIndex = 0;
            score = 0;
            currentScoreEl.textContent = score;
            totalQuestionsDisplayEl.textContent = currentQuizQuestions.length; 
            progressBar.style.width = '0%';
            resultsArea.classList.add('hidden');
            quizArea.classList.remove('hidden');
            timeValueEl.textContent = "00:00"; // Reset timer display
            startTimer(); // Start the timer for the new quiz
            loadQuestion();
        }


        function loadQuestion() {
            feedbackArea.classList.add('hidden');
            submitAnswerButton.classList.remove('hidden');
            nextQuestionButton.classList.add('hidden');
            submitAnswerButton.disabled = false;
            optionsContainer.innerHTML = ''; 
            selectedAnswers = [];

            if (currentQuestionIndex >= currentQuizQuestions.length) {
                showResults();
                return;
            }

            const question = currentQuizQuestions[currentQuestionIndex];
            questionTextEl.textContent = question.questionText;
            currentQuestionNumberEl.textContent = currentQuestionIndex + 1;
            progressBar.style.width = `${((currentQuestionIndex + 1) / currentQuizQuestions.length) * 100}%`;
            
            const shuffledOptions = [...question.options];
            shuffleArray(shuffledOptions);

            shuffledOptions.forEach((option, index) => {
                const optionId = `option-${index}`;
                const optionWrapper = document.createElement('div');
                optionWrapper.classList.add('flex', 'items-center', 'p-3', 'bg-slate-800', 'rounded-lg', 'hover:bg-slate-600', 'transition-colors', 'duration-200', 'cursor-pointer', 'shadow');
                
                const input = document.createElement('input');
                input.id = optionId;
                input.value = option; 
                input.name = `option_q${currentQuestionIndex}`; 
                input.classList.add('mr-3', 'form-radio', 'h-5', 'w-5', 'text-sky-500', 'focus:ring-sky-400');

                if (question.type === 'multiple') {
                    input.type = 'checkbox';
                    input.addEventListener('change', (e) => {
                        if (e.target.checked) {
                            if (!selectedAnswers.includes(e.target.value)) {
                                selectedAnswers.push(e.target.value);
                            }
                        } else {
                            selectedAnswers = selectedAnswers.filter(ans => ans !== e.target.value);
                        }
                    });
                } else { 
                    input.type = 'radio';
                     input.addEventListener('change', (e) => {
                        if (e.target.checked) {
                            selectedAnswers = [e.target.value];
                        }
                    });
                }
                
                const label = document.createElement('label');
                label.htmlFor = optionId;
                label.textContent = option; 
                label.classList.add('text-slate-200', 'flex-1', 'cursor-pointer');

                optionWrapper.appendChild(input);
                optionWrapper.appendChild(label);
                optionWrapper.addEventListener('click', () => {
                    if (input.disabled) return; 
                    if (input.type === 'radio' && !input.checked) {
                        input.checked = true;
                        const changeEvent = new Event('change', { bubbles: true });
                        input.dispatchEvent(changeEvent);
                    } else if (input.type === 'checkbox') {
                        input.checked = !input.checked;
                        const changeEvent = new Event('change', { bubbles: true });
                        input.dispatchEvent(changeEvent);
                    }
                });
                optionsContainer.appendChild(optionWrapper);
            });
            document.getElementById('questionContainer').classList.remove('slide-up-fade-in');
            void document.getElementById('questionContainer').offsetWidth; 
            document.getElementById('questionContainer').classList.add('slide-up-fade-in');
        }

        function handleSubmitAnswer() {
            if (selectedAnswers.length === 0) {
                feedbackTextEl.textContent = "Por favor, selecciona una respuesta.";
                explanationTextEl.textContent = "";
                feedbackArea.className = 'mb-6 p-4 rounded-md text-sm bg-yellow-500 text-yellow-900 font-semibold';
                feedbackArea.classList.remove('hidden');
                return;
            }

            submitAnswerButton.disabled = true;
            const question = currentQuizQuestions[currentQuestionIndex];
            let isCorrect = false;

            if (question.type === 'multiple') {
                const sortedSelected = [...selectedAnswers].sort();
                const sortedCorrect = [...question.correctAnswers].sort();
                isCorrect = sortedSelected.length === sortedCorrect.length && sortedSelected.every((val, index) => val === sortedCorrect[index]);
            } else { 
                isCorrect = selectedAnswers.length === 1 && question.correctAnswers.includes(selectedAnswers[0]);
            }

            feedbackArea.classList.remove('hidden', 'bg-green-500', 'text-green-900', 'bg-red-500', 'text-red-900', 'bg-yellow-500', 'text-yellow-900');
            if (isCorrect) {
                score++;
                currentScoreEl.textContent = score;
                feedbackTextEl.textContent = "¡Correcto!";
                feedbackArea.classList.add('bg-green-500', 'text-green-900');
            } else {
                feedbackTextEl.textContent = "¡Incorrecto!";
                feedbackArea.classList.add('bg-red-500', 'text-red-900');
            }
            explanationTextEl.textContent = question.explanation;
            
            const optionElements = optionsContainer.querySelectorAll('input');
            optionElements.forEach(inputEl => {
                const parentWrapper = inputEl.parentElement;
                parentWrapper.classList.remove('bg-slate-600', 'ring-2', 'ring-green-500', 'ring-red-500'); 
                inputEl.disabled = true; 

                if (question.correctAnswers.includes(inputEl.value)) {
                    parentWrapper.classList.add('bg-green-700', 'ring-2', 'ring-green-400'); 
                }
                if (selectedAnswers.includes(inputEl.value) && !question.correctAnswers.includes(inputEl.value)) {
                    parentWrapper.classList.add('bg-red-700', 'ring-2', 'ring-red-400'); 
                }
            });

            submitAnswerButton.classList.add('hidden');
            nextQuestionButton.classList.remove('hidden');
        }

        function handleNextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentQuizQuestions.length) {
                loadQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            stopTimer(); 
            quizArea.classList.add('hidden');
            resultsArea.classList.remove('hidden');
            finalScoreTextEl.textContent = `${score} / ${currentQuizQuestions.length}`;  // Variable CORRECTA
            finalTimeValueEl.textContent = formatTime(elapsedTime);  // Variable CORRECTA
            
            let message = "";

            if (percentage === 100) {
                message = "¡Extraordinario! ¡Lo has bordado! ¡Puntuación perfecta!";
            } else if (percentage >= 80) {
                message = "¡Excelente trabajo! Tienes un sólido conocimiento de Azure AI.";
            } else if (percentage >= 60) {
                message = "¡Buen trabajo! Un poco más de repaso y serás un experto.";
            } else if (percentage >= 40) {
                message = "¡Vas por buen camino! Sigue aprendiendo e inténtalo de nuevo.";
            } else {
                message = "¡Sigue practicando! Revisa la sección 'Aprender' e intenta el cuestionario de nuevo.";
            }
            resultsMessageEl.textContent = message;
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            switchTab('learn'); 
            timerDisplayEl.classList.add('hidden'); // Hide timer initially
        });

    </script>
</body>
</html>
